/*! yourls-api v2.0.0 | (C) 2016 Alasdair Mercer | MIT License */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define("yourls-api",n):t.yourls=n()}(this,function(){"use strict";function t(t){if(!t)return null;var n={};return t.signature?(n.signature=t.signature,n.timestamp=t.timestamp):(n.password=t.password,n.username=t.username),n}function n(n,e){this.url=n?n.replace(/\/$/,""):"",this.credentials=t(e)}function e(t){if(!t)return"";var n=[];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&null!=t[e]&&n.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return n.join("&")}function r(){for(var t=Date.now();c[t];)t++;return t}function o(t,n){t="[object Array]"===Object.prototype.toString.call(t)?t:[t];var e,r,o=null;if(!n)return o;if(1===t.length)o=n[t[0]];else for(o={},e=0;e<t.length;e++)r=t[e],"undefined"!=typeof n[r]&&(o[r]=n[r]);return o}function u(t,u,i){var s=n.fetch(),a=r(),f=document.createElement("script");c[a]=function(t){var n=o(u,t);delete c[a],f.parentNode.removeChild(f),i(n,t)};var p=s.url+"?"+e({callback:l+"["+a+"]",format:"jsonp"});s.credentials&&(p+="&"+e(s.credentials)),t&&(p+="&"+e(t)),f.setAttribute("src",p),document.getElementsByTagName("head")[0].appendChild(f)}function i(){}function s(t){this.url=t}var a=null;n.clear=function(){a=null},n.fetch=function(){return a},n.prototype.store=function(){a=this};var l="__yourls"+Date.now()+"_jsonp",c=window[l]={};i.prototype.stats=function(t){var n={action:"db-stats"};return u(n,"db-stats",t),this},s.prototype.expand=function(t){var n={action:"expand",shorturl:this.url};return u(n,["keyword","longurl","shorturl"],t),this},s.prototype.stats=function(t){var n={action:"url-stats",shorturl:this.url};return u(n,"link",t),this};var f=function(){this.db=new i,this.version="2.0.0"};f.prototype.connect=function(t,e){var r=new n(t,e);return r.store(),this},f.prototype.disconnect=function(){return n.clear(),this},f.prototype.shorten=function(t,n,e){var r={action:"shorturl",url:t};switch(typeof n){case"function":e=n,n=null;break;case"string":n={keyword:n}}return n&&(r.keyword=n.keyword,r.title=n.title),u(r,["shorturl","title","url"],e),this},f.prototype.stats=function(t,n,e){var r={action:"stats"};switch(typeof t){case"number":e=n,n=t,t=null;break;case"function":e=t,t=n=null;break;default:"function"==typeof n&&(e=n,n=null)}return r.filter=t,r.limit=n,u(r,"stats",e),this},f.prototype.url=function(t){return t?new s(t):null};var p=new f;return p});

//# sourceMappingURL=yourls.min.js.map