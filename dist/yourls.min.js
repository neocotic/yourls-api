/*! YOURLS API v2.0.0 | (C) 2016 Alasdair Mercer | MIT License */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define("yourls-api",n):t.yourls=n()}(this,function(){"use strict";function t(t){if(!t)return null;var n={};return t.signature?(n.signature=t.signature,n.timestamp=t.timestamp):(n.password=t.password,n.username=t.username),n}function n(n,r){this.url=n?n.replace(/\/$/,""):"",this.credentials=t(r)}function r(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}function e(t){if(!t)return"";var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&null!=t[r]&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return n.join("&")}function o(){for(var t=Date.now();p[t];)t++;return t}function i(t,n){t=r(t)?t:[t];var e,o,i=null;if(!n)return i;if(1===t.length)i=n[t[0]];else for(i={},e=0;e<t.length;e++)o=t[e],"undefined"!=typeof n[o]&&(i[o]=n[o]);return i}function u(t,r,u){var s=n.fetch(),a=o(),l=document.createElement("script");p[a]=function(t){var n=i(r,t);delete p[a],l.parentNode.removeChild(l),u(n,t)};var c=s.url+"?"+e({callback:f+"["+a+"]",format:"jsonp"});s.credentials&&(c+="&"+e(s.credentials)),t&&(c+="&"+e(t)),l.setAttribute("src",c),document.getElementsByTagName("head")[0].appendChild(l)}function s(){}function a(t){this.url=t}function l(t){if(!t||!t.links||r(t.links))return t;for(var n,e=1,o=[];null!=(n=t.links["link_"+e]);)o.push(n),e++;return t.links=o,t}var c=null;n.clear=function(){c=null},n.fetch=function(){return c},n.prototype.store=function(){c=this};var f="__yourls"+Date.now()+"_jsonp",p=window[f]={};s.prototype.stats=function(t){var n={action:"db-stats"};return u(n,"db-stats",t),this},a.prototype.expand=function(t){var n={action:"expand",shorturl:this.url};return u(n,["keyword","longurl","shorturl"],t),this},a.prototype.stats=function(t){var n={action:"url-stats",shorturl:this.url};return u(n,"link",t),this};var d=function(){this.db=new s,this.VERSION="2.0.0"};d.prototype.connect=function(t,r){var e=new n(t,r);return e.store(),this},d.prototype.disconnect=function(){return n.clear(),this},d.prototype.shorten=function(t,n,r){var e={action:"shorturl",url:t};switch(typeof n){case"function":r=n,n=null;break;case"string":n={keyword:n}}return n&&(e.keyword=n.keyword,e.title=n.title),u(e,["shorturl","title","url"],r),this},d.prototype.stats=function(t,n){var r={action:"stats"};switch(typeof t){case"function":n=t,t=null;break;case"number":t={limit:t}}return t&&(r.filter=t.filter,r.limit=t.limit,r.start=t.start),u(r,["links","stats"],function(t,r){n(l(t),r)}),this},d.prototype.url=function(t){return t?new a(t):null},d.prototype.version=function(t,n){var r={action:"version"};return"function"==typeof t&&(n=t,t=null),null!=t&&(r.db=Number(t)),u(r,["db_version","version"],n),this};var h=new d;return h});

//# sourceMappingURL=yourls.min.js.map